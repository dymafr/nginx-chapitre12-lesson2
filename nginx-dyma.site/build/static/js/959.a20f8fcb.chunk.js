"use strict";(self.webpackChunkjwt=self.webpackChunkjwt||[]).push([[959],{959:function(e,r,s){s.r(r),s.d(r,{default:function(){return x}});var n=s(413),a=s(165),t=s(861),i="Signup_form__djdYU",l=s(887),c=s(727),o=s(695),m="/api/users";function d(e){return u.apply(this,arguments)}function u(){return(u=(0,t.Z)((0,a.Z)().mark((function e(r){var s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:return s=e.sent,e.next=5,s.json();case 5:if(n=e.sent,!s.ok){e.next=10;break}return e.abrupt("return",n);case 10:if(!n){e.next=14;break}throw n;case 14:throw new Error("Error api createUser");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=s(689),f=s(184);var x=function(){var e=(0,p.s0)(),r=c.Ry({name:c.Z_().required("Il faut pr\xe9ciser votre nom").min(2,"Un vrai nom"),email:c.Z_().required("Il faut pr\xe9ciser votre email").email("L'email n'est pas valide"),password:c.Z_().required("Il faut pr\xe9ciser votre mot de passe").min(6,"Mot de passe trop court")}),s=(0,l.cI)({initialValues:{name:"",email:"",password:""},resolver:(0,o.X)(r)}),m=s.handleSubmit,u=s.register,x=s.formState,h=x.errors,j=x.isSubmitting,b=s.setError,v=s.clearErrors,w=m(function(){var r=(0,t.Z)((0,a.Z)().mark((function r(s){return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,v(),r.next=4,d(s);case 4:e("/signin"),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),b("generic",{type:"generic",message:r.t0});case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}());return(0,f.jsx)("div",{className:"flex-fill d-flex align-items-center justify-content-center",children:(0,f.jsxs)("form",{onSubmit:w,className:"".concat(i," d-flex flex-column card p-20"),children:[(0,f.jsx)("h2",{className:"mb-10",children:"Inscription"}),(0,f.jsxs)("div",{className:"mb-10 d-flex flex-column",children:[(0,f.jsx)("label",{htmlFor:"name",children:"Nom"}),(0,f.jsx)("input",(0,n.Z)({type:"text",name:"name"},u("name"))),h.name&&(0,f.jsx)("p",{className:"form-error",children:h.name.message})]}),(0,f.jsxs)("div",{className:"mb-10 d-flex flex-column",children:[(0,f.jsx)("label",{htmlFor:"email",children:"Email"}),(0,f.jsx)("input",(0,n.Z)({type:"text",name:"email"},u("email"))),h.email&&(0,f.jsx)("p",{className:"form-error",children:h.email.message})]}),(0,f.jsxs)("div",{className:"mb-10 d-flex flex-column",children:[(0,f.jsx)("label",{htmlFor:"password",children:"Password"}),(0,f.jsx)("input",(0,n.Z)({type:"password",name:"password"},u("password"))),h.password&&(0,f.jsx)("p",{className:"form-error",children:h.password.message})]}),h.generic&&(0,f.jsx)("div",{className:"mb-10",children:(0,f.jsx)("p",{className:"form-error",children:h.generic.message})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{disabled:j,className:"btn btn-primary",children:"Inscription"})})]})})}}}]);
//# sourceMappingURL=959.a20f8fcb.chunk.js.map