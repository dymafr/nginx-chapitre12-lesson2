{"version":3,"file":"static/js/111.b10aae0d.chunk.js","mappings":"0KACA,EAAuB,qB,8DC4FvB,MArFA,WACE,OAAyBA,EAAAA,EAAAA,YAAWC,EAAAA,GAA5BC,EAAM,EAANA,OAAQC,EAAI,EAAJA,KAEVC,EAAmBC,EAAAA,GAAW,CAClCC,MAAOD,EAAAA,KAEJE,SAAS,mCACTD,MAAM,4BACTE,SAAUH,EAAAA,KAEPE,SAAS,0CACTE,IAAI,EAAG,6BAQZ,GAMIC,EAAAA,EAAAA,IAAQ,CACVC,cAZoB,CACpBL,MAAO,GACPE,SAAU,IAWVI,UAAUC,EAAAA,EAAAA,GAAYT,KAPtBU,EAAY,EAAZA,aACAC,EAAQ,EAARA,SAAS,EAAD,EACRC,UAAaC,EAAM,EAANA,OAAQC,EAAY,EAAZA,aACrBC,EAAQ,EAARA,SACAC,EAAW,EAAXA,YAMIC,EAASP,EAAY,yCAAC,WAAOQ,GAAW,sEAE5B,OAF4B,SAE1CF,IAAc,SACRlB,EAAOoB,GAAa,KAAD,iDAEzBH,EAAS,UAAW,CAAEI,KAAM,UAAWC,QAAO,OAAI,wDAErD,mDAP0B,IAS3B,OACE,8BACGrB,GACC,SAAC,KAAQ,CAACsB,GAAG,cAEb,gBAAKC,UAAU,6DAA4D,UACzE,kBACEC,SAAUN,EACVK,UAAS,UAAKE,EAAW,iCAAgC,WAEzD,eAAIF,UAAU,QAAO,wBACrB,iBAAKA,UAAU,2BAA0B,WACvC,kBAAOG,QAAQ,QAAO,oBACtB,0BAAON,KAAK,OAAOO,KAAK,SAAYf,EAAS,WAC5CE,EAAOX,QACN,cAAGoB,UAAU,aAAY,SAAET,EAAOX,MAAMkB,cAG5C,iBAAKE,UAAU,2BAA0B,WACvC,kBAAOG,QAAQ,WAAU,uBACzB,0BACEN,KAAK,WACLO,KAAK,YACDf,EAAS,cAEdE,EAAOT,WACN,cAAGkB,UAAU,aAAY,SAAET,EAAOT,SAASgB,aAG9CP,EAAOc,UACN,gBAAKL,UAAU,QAAO,UACpB,cAAGA,UAAU,aAAY,SAAET,EAAOc,QAAQP,aAG9C,0BACE,mBAAQQ,SAAUd,EAAcQ,UAAU,kBAAiB,+BASzE,C","sources":["webpack://jwt/./src/pages/Signin/Signin.module.scss?e86f","pages/Signin/Signin.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Signin_form__ho-Ga\"};","import styles from './Signin.module.scss';\nimport { useForm } from 'react-hook-form';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { AuthContext } from '../../context';\nimport { useContext } from 'react';\nimport { Navigate } from 'react-router-dom';\n\nfunction Signin() {\n  const { signin, user } = useContext(AuthContext);\n\n  const validationSchema = yup.object({\n    email: yup\n      .string()\n      .required('Il faut préciser votre email')\n      .email(\"l'email n'est pas valide\"),\n    password: yup\n      .string()\n      .required('Il faut préciser votre mot de passe')\n      .min(6, 'Mot de passe trop court'),\n  });\n\n  const initialValues = {\n    email: '',\n    password: '',\n  };\n\n  const {\n    handleSubmit,\n    register,\n    formState: { errors, isSubmitting },\n    setError,\n    clearErrors,\n  } = useForm({\n    initialValues,\n    resolver: yupResolver(validationSchema),\n  });\n\n  const submit = handleSubmit(async (credentials) => {\n    try {\n      clearErrors();\n      await signin(credentials);\n    } catch (message) {\n      setError('generic', { type: 'generic', message });\n    }\n  });\n\n  return (\n    <>\n      {user ? (\n        <Navigate to=\"/profile\" />\n      ) : (\n        <div className=\"flex-fill d-flex align-items-center justify-content-center\">\n          <form\n            onSubmit={submit}\n            className={`${styles.form} d-flex flex-column card p-20`}\n          >\n            <h2 className=\"mb-10\">Connexion</h2>\n            <div className=\"mb-10 d-flex flex-column\">\n              <label htmlFor=\"email\">Email</label>\n              <input type=\"text\" name=\"email\" {...register('email')} />\n              {errors.email && (\n                <p className=\"form-error\">{errors.email.message}</p>\n              )}\n            </div>\n            <div className=\"mb-10 d-flex flex-column\">\n              <label htmlFor=\"password\">Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                {...register('password')}\n              />\n              {errors.password && (\n                <p className=\"form-error\">{errors.password.message}</p>\n              )}\n            </div>\n            {errors.generic && (\n              <div className=\"mb-10\">\n                <p className=\"form-error\">{errors.generic.message}</p>\n              </div>\n            )}\n            <div>\n              <button disabled={isSubmitting} className=\"btn btn-primary\">\n                Connexion\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default Signin;\n"],"names":["useContext","AuthContext","signin","user","validationSchema","yup","email","required","password","min","useForm","initialValues","resolver","yupResolver","handleSubmit","register","formState","errors","isSubmitting","setError","clearErrors","submit","credentials","type","message","to","className","onSubmit","styles","htmlFor","name","generic","disabled"],"sourceRoot":""}